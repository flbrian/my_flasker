{%  extends 'base.html' %}

{% block content %}

	{% for message in get_flashed_messages() %}

		<div class="alert alert-warning alert-dismissible fade show" role="alert">
		  <strong> {{message}} </strong>
		  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>

	{% endfor%}
	
	{% if name %}  	<! If name is provided, simply say HI to the person >

		

		<table class="table table-striped table-hover table-bordered">

			{%  for our_user in our_users %}

			<tr>

				<td>
				{{ our_user.id }} . {{ our_user.name  }} - {{ our_user.email }}
				</td>

			</tr>

			{%  endfor %}

		</table>

		<br/>

		

	{% else %}		<! Otherwise, display form for user information entry >

		<h1>User List</h1>

		<br/>

		<div class="shadow p-3 mb-5 bg-body rounded">

		<form method = "POST">

		{{ form.hidden_tag() }}

		{{ form.name.label (class="form-label") }}

		{{ form.name(class="form-control") }}

		{{ form.email.label (class="form-label") }}

		{{ form.email(class="form-control") }}

		<br/>

		{{form.submit(class="btn btn-secondary")}} 

		</form>

		</div>

		<br/>

		<table class="table table-striped table-hover table-bordered">

			{%  for our_user in our_users %}

			<tr>

				<td>
				{{ our_user.id }} . {{ our_user.name  }} - {{ our_user.email }}
				</td>

			</tr>

			{%  endfor %}

		</table>

	{% endif %}

{% endblock  %}